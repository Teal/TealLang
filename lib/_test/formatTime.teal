/// 格式化时间为 **刚刚/N 秒(分钟/小时/天)前** 格式。
/// @param date 要格式化的日期。
/// @param now 指定当前时间。
/// @return 返回时间字符串。如果时间在 5 秒内，返回刚刚，否则返回 N 秒(分钟/小时/天)前 格式。
formatTimeToChinese(date: Date, now = Date()) {
    timeOffset = round(now.value - date.value) / 1000);
    return timeOffset > 86400 * 4 || timeOffset < 0 ? date.year + "年" + date.month + "月" + date.day + "日" :
        (t = floor(timeOffset / 86400)) != 0 ? t + "天前" :
            (t = floor(timeOffset / 3600 % 24)) != 0 ? t + "小时前" :
                (t = floor(timeOffset / 60 % 60)) != 0 ? t + "分钟前" :
                    (t = floor(timeOffset % 60)) > 4 ? t + "秒前" : "刚刚";
}
