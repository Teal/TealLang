# Teal 语法设计
一个模块源文件由多个语法节点组成。
语法节点具体分为：

## 字面量

### 数字字面量
```
0
1.0
1e4
0xffffff
0XFFFFFF
0o000000
0b000000
```

### 字符串字面量
```
'hello'
"hello"
`hello${1 + 1}`
```

### 布尔和空字面量
```
true
false
null
```

### 列表和哈希表字面量
```
[1, 2, 3]
{foo: 1, goo: 2}
```

### 函数字面量
```
(x) = x
(x) { }
a(x: number, y?, z = 1, ...rest) { }
```

### 类字面量
```
class A: User {
    length = 2
    length {
        return 2;
    }
    length(value) {
         
    }
    fn() {

    }
}
```

### 枚举字面量
```
enum A {
    aa, bb, cc
}
```

## 操作符表达式

### 四则运算表达式
```
+, -, *, /, %(取余), ^(次方)
```

### 比较运算表达式
```
==, !=, <=, >=, <, >
```

### 逻辑运算表达式
```
&&, ||, !
```

### 流程控制表达式
```
?:, &, |
```

### 赋值运算表达式
```
=, ->(反向辅助), :=(绑定), ++, --, +=, -=, *=, /=, %=, ^=, &&=, ||=, &=, |=
```

### 成员访问表达式
```
., ..(链式访问), ::(限定符), a[,,,]
```

### 函数调用表达式
```
fn1(4)
fn2(p: 4)
fn3(a: 1, b: 2)
```

## 语句

### 流程语句
    
### if 语句
```
if a {}
if a {} else {}
if a {} else if b else {}
```

### while 语句、until 语句和 loop 语句
```
while a {}
do {} while a;

until a {}
do {} until a;

loop {}
loop 100 {}
```

### for 语句
```
for i = 0; i < 100; i++ {}   

for item, i in arr {}

for i = 0 to 100 {}  // 等效于： i = 0 ; i < 100 ; i++
for i = 100 to 0; i-- {}
```

### switch 语句
每个 case 之间不会互相贯穿。

```
switch val {
    case 1:
        b = 1;
    case 2:
        goto case 1; // 使用 goto 强制跨 case 。
    case 3, 4:   // 允许多个值使用逗号分开，而不是写多个 case 。
        b = 2;
    case else: // 匹配剩余情况。没有 default 关键字。
        b = 4;
}

switch { // 等效于多个 if else if 。
    case a > 1:
    
    case a < 0 && a > 5:
    
}
```

### 标签语句和跳转语句
```
#label
    goto label; // 跳转到 label 。
    
break

continue
    
return 1; // 返回值。
yield 1;  // 迭代返回值。
```

## 自动补全

### 自动追加分号
每个独立语句都允许省略分号，但是这会引起一些歧义。采用的策略是尽量认为分号是没有省略的。如以下代码，编译器不会自动添加分号。
```
return // 分号不会自动添加。因此空 return 需要用户强制添加分号。
    fn()
```

### 自动追加括号
大部分语句块在只有一行语句时，可以省略大括号。
大部语句均允许省略小括号。
但是，请不要同时省略大括号和小括号，虽然编译器对此不作限制。

## 注释和预处理器
```
//
/**/
```

### 文档注释
/// 表示后面是文档注释，文档注释会提取为 API 文档
    
```
/// 输出值
/// a 要输出的内容
/// @return 输出的个数
int print(string s){

}
```
